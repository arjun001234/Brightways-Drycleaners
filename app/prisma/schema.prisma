datasource db {
    provider = "postgresql"
    url = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

enum Role {
    ADMIN
    USER
}

model Profile {
    id  String @id @default(uuid())
    avatar_url String  @unique @db.Text
    role  Role @default(USER)
    name String @db.VarChar(50) 
    email String  @db.VarChar() @unique
    createdAt DateTime  @default(now())
    contactNumber String? @unique @db.VarChar(20)
    addresses Address[]
    authId String @unique
    reviews Review[]
}

model Admins {
    email String @db.VarChar() @unique
}

model Address {
    id String @id @default(uuid())
    profile Profile @relation(fields: [profileId],references: [id])
    profileId String
}

model Review {
    id String @id @default(uuid())
    profile Profile @relation(fields: [profileId],references: [id])
    profileId String
    review String 
    rating Decimal @db.Decimal(2,1)
    createdAt DateTime  @default(now())
}

model Contact {
    id String @id @default(uuid())
    name String 
    message String @db.Text
    contactNumber String @db.VarChar(20)
}